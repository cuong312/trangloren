(function(a){function h(a){var b=document.createElement("div");b.innerHTML=a;a=b.getElementsByTagName("script");for(var f=a.length;f--;)a[f].parentNode.removeChild(a[f]);return b.innerHTML}function k(c){var b=a("#popliup-"+c);0!=b.length&&(0==a("#popliupOverlay-"+c).length?a('<div id="popliupOverlay-'+c+'" class="popliup-overlay dnone">').appendTo("body").fadeIn(open_box()):(a("#popliupOverlay-"+c).show(),b.hasClass("center")?setTimeout(function(){a(window).width();var c=a(window).height(),d=parseInt(b.css("width"))+
(parseInt(b.css("padding-left"))+parseInt(b.css("padding-right"))),g=b.height()+(parseInt(b.css("padding-top"))+parseInt(b.css("padding-bottom"))),d="-"+d/2+"px",e="-"+g/2+"px";b.data("popup_position");g<c&&b.css({position:"fixed",top:"50%","margin-left":d,"margin-top":e}).data("already_shown",!0).show();g>c&&b.css({position:"absolute",top:a(document).scrollTop(),"margin-left":d}).data("already_shown",!0).show()},5):b.data("already_shown",!0).show()),a(document).keyup(function(a){27==a.keyCode&&e(c,
!0)}))}function e(c,b){if(a("#popliup-"+c).is(":animated"))return!1;a("#popliup-"+c).hide();b?(a("#popliup-"+c).remove(),setTimeout(function(){a("#popliupOverlay-"+c).remove()},10)):a("#popliupOverlay-"+c).hide();a("#previewHldr").remove()}a('.condition-toggle input[type="checkbox"]').change(function(){if(a(this).prop("checked")){a("#condition-"+a(this).val()+" .condition-content").slideDown();var c=a(this).data("disable").split(",");c.forEach(function(b){a("#condition-"+b).addClass("disabled");a("#condition-"+
b).find('input[type="checkbox"]').attr("disabled","disabled").prop("checked",!1)})}else a("#condition-"+a(this).val()+" .condition-content").slideUp(),c=a(this).data("disable").split(","),c.forEach(function(b){a("#condition-"+b).removeClass("disabled");a("#condition-"+b).find('input[type="checkbox"]').removeAttr("disabled")})});a('input[name="display_options[appear_after_type]"').on("click",function(){"scroll"==a(this).val()?a("#hideOnScrollUp").show():a("#hideOnScrollUp").hide()});a(".condition.disabled input[type='checkbox']").on("change",
function(a){return!1});a("#allConditions .condition.active").each(function(c){a(this).find('.condition-toggle input[type="checkbox"]').data("disable").split(",").forEach(function(b){a("#condition-"+b).addClass("disabled");a("#condition-"+b).find('input[type="checkbox"]').attr("disabled","disabled").prop("checked",!1)})});a(".popli-color-picker").wpColorPicker();a(".preview-btn").on("click",function(){var c=a(this).data("popup_id"),b={popup_id:c,action:"preview_popup",form_data:a('form[name="post"]').serialize()};
a.post(ajaxurl,b,function(b){try{a("body").append(b)}catch(d){a("#previewHldr").remove(),a("body").append(h(b))}k(c)})});a(".popliup-close").live("click",function(){var c=a(this).data("popup_id"),b=a("#popliup-"+c);b.data("close_animation");b.data("open_animation");b.data("already_closed",!1);e(c,!0)});a("select[name='display_options[popup_theme]'").on("change",function(){var c=a(this).val(),b=a(this).data("popup_id");a.post(ajaxurl,{action:"display_theme_options",theme_name:c,popup:b},function(b){a("#popliupThemeOptions").html(b);
a(".popli-color-picker").wpColorPicker()})})})(jQuery);