(function(c){var m=function(){function n(a){var b=a.width()+(parseInt(a.css("padding-left"))+parseInt(a.css("padding-right"))),d=a.height()+(parseInt(a.css("padding-top"))+parseInt(a.css("padding-bottom")));c(window).width();var e=c(window).height(),b="-"+b/2+"px",f="-"+d/2+"px";a.data("popup_position");d<e&&a.hasClass("center")&&a.css({position:"fixed",top:"50%","margin-left":b,"margin-top":f});d>e&&a.css({position:"absolute",top:c(document).scrollTop(),"margin-left":b})}function k(a,b){var d=c("#popliup-"+
a);if(0!=d.length){n(d);0==c("#popliupOverlay-"+a).length?c('<div id="popliupOverlay-'+a+'" class="popliup-overlay dnone">').appendTo("body").fadeIn(open_box()):b?c("#popliupOverlay-"+a).fadeIn("fast",function(){d.addClass("animated "+b).data("already_shown",!0).show().one("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(a){c(this).removeClass(b).css("display","block")})}):(c("#popliupOverlay-"+a).fadeIn(),d.data("already_shown",!0).fadeIn());var e="popli_ct_"+a,f=m(e);void 0==
f?f=0:c.isNumeric(f)&&(f=parseInt(f)+1);g(e,f,d.data("expiry_date"))}}function h(a,b,d,e){if(c("#popliup-"+a).is(":animated"))return!1;d?(c("#popliup-"+a).removeClass(b).width(),c("#popliup-"+a).addClass(d).one("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(b){c(this).removeClass(d).hide().css("display","none");e?(c("#popliup-"+a).remove(),c("#popliupOverlay-"+a).fadeOut(function(){c(this).remove()})):c("#popliupOverlay-"+a).fadeOut()})):(c("#popliup-"+a).hide(),e?(c("#popliup-"+
a).remove(),setTimeout(function(){c("#popliupOverlay-"+a).remove()},10)):c("#popliupOverlay-"+a).hide())}c(".popliup-close").click(function(){var a=c(this).data("popup_id"),b=c("#popliup-"+a),d=b.data("close_animation"),e=b.data("open_animation");b.data("already_closed",!1);h(a,e,d,!0);b.data("cls_btn_no_show")&&(a="popli_ns_"+a,b=b.data("expiry_date"),g(a,"true",b))});c("#noShowLink").click(function(){var a=c(this).data("popup_id"),b=c("#popliup-"+a),d=b.data("close_animation"),e=b.data("open_animation");
h(a,e,d,!0);a="popli_ns_"+a;b=b.data("expiry_date");g(a,"true",b);return!1});var g=function(a,b,c){document.cookie=a+"="+b+"; expires="+c+" UTC; path=/"},m=function(a){a=("; "+document.cookie).split("; "+a+"=");if(2==a.length)return a.pop().split(";").shift()};c(".popliup-box").each(function(a){var b=c(this).data(),d=b.popup_id,e=b.open_animation,f=b.close_animation,l=c(this);l.hasClass("center")&&c(window).resize(function(){n(l)});if(b.appear_after_time)setTimeout(function(){k(d,e)},b.appear_after_time);
else if(b.appear_after_scroll){a=b.appear_after_scroll.unit;var g=b.appear_after_scroll.value;"px"==a&&c(document).bind("scroll",function(){c(document).scrollTop()>=g&&k(d,e)});"pct"==a&&c(document).bind("scroll",function(){var a=100*c(window).scrollTop()/(c(document).height()-c(window).height());a>=g&&"none"==l.css("display")&&(k(d,e),c("#popliup-"+d).data("already_shown",!0));b.scrollup_hide&&a<g&&1==l.data("already_shown")&&(h(d,e,f,!1),c("#popliup-"+d).data("already_shown",!1))})}else b.appear_on_exit_intent||
k(d,b.open_animation);if(!b.overlay_no_close)c("#popliupOverlay-"+d).on("click",function(){h(d,b.open_animation,b.close_animation,!0)});b.esc_no_close||c(document).keyup(function(a){27==a.keyCode&&h(d,b.open_animation,b.close_animation,!0)});if(!b.scrollup_hide&&b.autoclose)c("#popliup-"+d).on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(a){setTimeout(function(){h(d,b.open_animation,b.close_animation,!0)},b.autoclose)})})};c(document).ready(function(){m()})})(jQuery);